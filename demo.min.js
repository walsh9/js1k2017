x=y=T=150,W=a.width,H=a.height,M=Math,R=M.random,L='length',X=0|M.max(1,M.min(W,H)/T),V=(X-1)*W/2,onmousemove=onmousedown=(d)=>{x=d.pageX,y=d.pageY},c.font='120px x',c.textBaseline='top',c.textAlign='center',A=a=>{for(c.clearRect(0,0,W,H),c.fillText(a,W/2,20),s=c.getImageData(0,0,W,200).data,m=[],i=s[L];i-=4;)m[i/4]=0|M.max(0,M.min(255,.3*s[i]+.6*s[i+1]+.1*s[i+2]));for(m.map((d,f)=>{d&&255^d&&(m[f]=128<d?255:0,[[1,0.44],[W-1,.2],[W,.3],[W+1,.06]].map((g)=>{m[f+g[0]]+=0|(d-m[f])*g[1],m[f]}))}),pt=[],i=m[L];i--;)!m[i]&&128<s[4*i+3]&&pt.push([i%W,0|i/W]);return C(pt),pt},B=(a,b,c=a[L]-b[L])=>{return C(0<c?b:a,M.abs(c)),a.map((d,f)=>[...a[f],...b[f]])},C=(a,b)=>{for(;b--;)a.push(a[0|R()*a[L]]);a.map((d,f)=>a[(a[f]=a[j=0|f+R()*(a[L]-f)],j)]=d)},D=(a,b)=>0|a+(b-a)*T/50,e=[],E=(a,b)=>{for(;b--;)e.push(String.fromCodePoint(a+b))},E(127799,70),E(128e3,61),E(128512,56),E(128121,8),C(e),setInterval(()=>{T++,50<T&&(e.push(e.shift()),n=B(A(e[0]),A(e[1])),T=-50),c.fillStyle='hsl('+255*(x/W)+',90%,80%)',c.fillRect(0,0,W,H),w=()=>-30>T?0:0|(0|R()+.5)*(30+T)/10*X,c.fillStyle='hsl('+255*(y/H)+',90%,20%)',n.map((f)=>0<T?c.fillRect(0|D(f[0],f[2])*X-V-R()*X+.5,0|D(f[1],f[3])*X-R()*X+.5,X,X):c.fillRect(f[0]*X-w()-V,f[1]*X-w(),X,X))},67);
